# Plan 6.1: Advanced Reporting & Dashboard

**Goal**: Transform the current placeholder Dashboard into a data-rich command center with real-time stats and visual charts.

## 6.1.1 Feature: Real-Time Stats Cards

Replace the hardcoded numbers on the Dashboard with DB queries.

- **Metrics**:
  - Total Complaints (Open / Resolved).
  - Total Funds (Allocated / Spent / Remaining).
  - Pending Approvals.
- **Implementation**:
  - Create `lib/api/dashboard.ts`.
  - Use `count` queries for efficiency.

## 6.1.2 Feature: Interactive Charts

Visualize trends over time using `recharts`.

- **Charts**:
  - **Complaints over Time** (Bar Chart): Last 6 months.
  - **Spending vs Allocation** (Pie/Bar Chart).
- **Library**: `recharts` (Standard for Next.js).

## 6.1.3 Feature: Resident Finance Summary (Personal)

Allow Residents to see their own "Statement" (if applicable) or the Property's financial health transparently.

- **View**:
  - Resident Login -> Dashboard -> "My Community Funds".
  - Shows: Property Balance, Recent Transactions (Read-Only).

## Implementation Steps

1.  **Install Dependencies**:
    - `npm install recharts`
2.  **Backend (Server Actions/Queries)**:
    - `getDashboardStats()`: Aggregated counts.
    - `getComplaintTrends()`: Group by month.
    - `getFinanceSummary(propertyId)`: Sum transactions.
3.  **UI Components**:
    - `DashboardStats`: Client component (or Server) to display cards.
    - `ComplaintChart`: Recharts component.
    - `FinanceChart`: Recharts component.
4.  **Page Updates**:
    - Update `app/page.tsx` (Dashboard).
    - Update `app/finance/page.tsx`.

## Verification Plan

1.  **Manual Verification**:
    - Create 3 new complaints.
    - Approve 1 transaction.
    - Check Dashboard:
      - "Total Complaints" increases by 3.
      - "Funds Spent" updates.
      - Charts reflect new data points.
