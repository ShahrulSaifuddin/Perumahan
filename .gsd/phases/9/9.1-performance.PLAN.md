---
phase: 9
plan: performance
wave: 1
---

# Phase 9: Performance & UX Polish

## Goal

Improve perceived performance by implementing instant navigation feedback (Skeleton Loaders) and optimizing server-side data fetching.

## Problem

User reports "need to wait for quite sometimes like delay" when clicking links. This is likely due to:

1.  **Server Components Blocking**: Pages wait for all data to fetch before rendering anything.
2.  **Missing Loading States**: No visual feedback during the fetch / transition period.

## Proposed Changes

### 1. Instant Navigation (`loading.tsx`)

- Implement `loading.tsx` in key route segments to show immediate Skeleton UI while server components fetch data.
- **Segments**:
  - `app/(protected)/dashboard/loading.tsx`
  - `app/(protected)/settings/loading.tsx`
  - `app/(protected)/properties/loading.tsx` (if applicable)
  - `app/(protected)/complaints/loading.tsx`

### 2. Skeleton Components

- Create reusable Skeleton components using `shadcn/ui` (which uses `tailwindcss-animate`).
- `components/ui/skeleton.tsx` (needs to be created).
- `components/skeletons.tsx`: customized skeletons for Cards, Tables, etc.

### 3. Data Fetching Optimization

- Review `actions` and `page.tsx` loaders.
- Ensure parallel fetching using `Promise.all` where possible (though Next.js handles some request deduplication, explicit parallelization in `page.tsx` avoids waterfalls).

## Detailed Plan

### Wave 1: Infrastructure & Dashboard

- [x] Install/Create `Skeleton` component (`shadcn`).
- [ ] Create `DashboardSkeleton`.
- [ ] Add `app/(protected)/dashboard/loading.tsx`.

### Wave 2: Settings & Tables

- [ ] Create `TableSkeleton` (generic).
- [ ] Add `app/(protected)/settings/loading.tsx`.
- [ ] Add `app/(protected)/complaints/loading.tsx`.

## Verification Plan

1.  **Manual**: Click "Dashboard" -> "Settings".
2.  **Expectation**: Immediate transition to new URL with Skeleton UI, followed by content. No browser "spinner" lag.
