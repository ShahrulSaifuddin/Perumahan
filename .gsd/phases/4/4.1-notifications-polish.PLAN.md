# Plan 4: Notifications & Polish

**Goal**: Enhance user engagement through email notifications and improve the overall visual appeal of the application.

## 4.1 Notifications (Resend Integration)

We will use **Resend** for transactional emails.

- **Trigger Events**:
  - Complaint Submitted (Notify Resident "Received" + Notify DBKL/Leader "New Complaint")
  - Complaint Status Updated (Notify Reporter)
  - New Comment (Notify Thread Participants)
  - Transaction Submitted (Notify Finance/Leader)
  - Transaction Approved/Rejected (Notify Submitter)

- **Implementation**:
  - Setup `resend` SDK.
  - Create email templates (React Email or simple HTML).
  - Create a `sendNotification` helper function.
  - Integrate into Server Actions (`createComplaint`, `updateStatus`, etc.).

## 4.2 UI Polish & Dashboard Enhancements

- **Dashboard (DBKL/Admin) View**:
  - Unified "Recent Activity" stream (Transactions + Complaints mixed?).
  - Quick stats (Open Complaints, Low Balance Properties).
- **Animations**:
  - Framer Motion for smooth page transitions and list entry.
  - Loading states (Skeletons) for better perceived performance.
- **Theme**:
  - Fix any dark mode inconsistencies.
  - Ensure "Claymorphism" is consistent (cards, buttons).

## 4.3 Resident Experience

- **Profile**:
  - Ability to update phone number/email.
  - View own transaction history (if applicable, or just property transparency).

## Execution Steps

1.  **Setup Resend**: `npm install resend`, config keys.
2.  **Email Templates**: Create basic templates.
3.  **Hook Events**: Add email sending to existing server actions.
4.  **UI Polish**: Install `framer-motion`, add animations, refine CSS.

## Verification

- Test email delivery (using Resend logs/test mode).
- Visual check of animations and themes.
