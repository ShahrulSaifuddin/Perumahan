---
phase: 8
plan: landing-page-refactor
wave: 1
---

# Refactor: Landing Page & Dashboard Separation

## Goal

Separate the public Landing Page from the private Dashboard. Currently, `/` is the dashboard, which forces a login redirect. We want `/` to be a public landing page and `/dashboard` to be the protected user area.

## Proposed Changes

### 1. Move Dashboard

- **Action**: Move `app/page.tsx` to `app/dashboard/page.tsx`.
- **Impact**:
  - `/dashboard` becomes the new protected route.
  - Sidebar link to `/dashboard` will now work correctly (it was previously broken or pointing to a non-existent route).

### 2. Create Landing Page

- **Action**: Create new `app/page.tsx`.
- **Logic**:
  - Check for valid session.
  - If session exists -> Redirect to `/dashboard`.
  - If no session -> Render Landing Page UI (Hero section + Login button).

### 3. Middleware / Auth

- Ensure `middleware.ts` continues to allow access to `/` (public) and protects `/dashboard` (via the page logic or middleware).
- _Note_: The current `app/dashboard/page.tsx` (moved from root) already has authentication checks (`if (!user) redirect...`). We will keep this for now.

## Detailed Plan

### Wave 1: Refactor

#### [MOVE] `app/page.tsx` -> `app/dashboard/page.tsx`

- No code changes needed inside the file, just relocation.

#### [NEW] `app/page.tsx`

- Implement Landing Page component.
- Include "Login" button linking to `/auth/login`.
- Include server-side logic to redirect to `/dashboard` if user is already logged in.

## Verification Plan

### Manual

1.  **Public Access**: Open `/` in incognito. Should see Landing Page (not Login redirect).
2.  **Login Flow**: Click "Login" -> Authenticate -> Redirect to `/dashboard` (or `/` which then redirects to `/dashboard`).
3.  **Authenticated Access**: Open `/` while logged in. Should auto-redirect to `/dashboard`.
4.  **Sidebar Navigation**: Click "Dashboard" in sidebar. Should render `/dashboard` correctly.
